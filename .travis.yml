sudo: false
install: true
language: android
jdk: oraclejdk7

android:
  components:
    - tools
    - platform-tools
    - build-tools-23.0.2
    - android-23

script:
  - ./gradlew clean build integrationTest

before_cache:
  - rm -f $HOME/.gradle/caches/modules-2/modules-2.lock

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/

notifications:
  email:
    recipients:
      - developers@forerunnergames.com
    on_success: change
    on_failure: always
  hipchat:
    rooms:
      secure: bLWI50JgMihL5JARw3JDplfkT4sWCgnlEFzwnDtjg/UjfptinloR4nT7+hYHKVg90rCxId/YVYEhHjH7wjib4gOZB1Y0KDi2QhBn82yJITpQhtkUH/1xW4WTwafuOWTQW/ZHf88WyrDclORR8Pj0HhfxaL+4vA/2vEfjsFfquNStGD0U3wQ5NoQC3pkXFfl/8y1pKT+c4COdvWQYYkzRnpiAbsFr3+XXXVlzk3KD6URrUC+A3aPh6OI6gcm6w+n4Ta7mbBYUL9fgNBtol9qkhR1CZS0F7EHioENUyWZ61iyUjIOelPShuhP6EfUUTggUaQ2jVlYq+Rz25GbaJ168Lck+E7QNTpbIiNjEPQybEIkxmho327esRDa9X0PI+n7uMVeFp2c1HTlqwYA0PNkVnwY4yrON2bIJanbA90qdtlQrF1R/pqDejLVVdjeKqSQhKMhjChVxmqGJhMKuDNhFLj1PnbU/9ll47a6uGlvhKO86GvWwBUsQgtJzyEbljPL9km2z9axtIrzKgo1GiNf9N7UxytoaW4AF39aLGCGjNGK1CxV18efa09G3ruDSOAbH9LM+cyz7uieWGZFZy9+n5nO0VfXo350PkEOTiFsBsEzf64g2jaSDEhzNQydAy2QaUgLKL+w67rK4q48RDxKc0d8jxDaFi1IA+XbqhOqBu0U=
    template:
      - '%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message} (<a href="%{build_url}">Details</a>/<a href="%{compare_url}">Change view</a>)'
    format: html
